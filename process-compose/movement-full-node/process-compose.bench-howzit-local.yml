version: "3"


processes:

  # setup:
  #   environment:
  #     - APTOS_ACCOUNT_WHITELIST=$DOT_MOVEMENT_PATH/default_signer_address_whitelist
  #     - MAPTOS_PRIVATE_KEY=random
  #
  # movement-faucet: 
  #   command : |
  #     movement-faucet-service run-simple --do-not-delegate

  howzit:
    environment:
      - "AUTH_TOKEN=notreal"
    command: |
      cargo run --bin howzit-bench
    depends_on:
      movement-full-node:
        condition: process_healthy
      movement-faucet:
        condition: process_healthy
    availability:
      exit_on_end: true 
